---
title: Data Compaction Job
description: IOMETE provides built-in job to run data compactions for iceberg tables that slow down over the time and require to run data compaction to clean up tables
last_update:
  date: 08/16/2024
  author: Vugar Dadalov
---

import FlexButton from "@site/src/components/FlexButton";
import Img from "@site/src/components/Img";

---

Over the time iceberg tables could slow down and require to run data compaction to clean up tables.
IOMETE provides built-in job to run data compactions for each table. This job triggers the next iceberg processes:

1. ExpireSnapshots [Maintenance - Expire Snapshots](/reference/iceberg-tables/maintenance#expire-snapshots)
2. Delete Orphan Files - See [Maintenance - Delete Orphan Files](/reference/iceberg-tables/maintenance#delete-orphan-files)
3. Rewrite Data Files - See [Maintenance - Rewrite Data Files](/reference/iceberg-tables/maintenance#compact-data-files)
4. Rewrite Manifests - See [Maintenance](/reference/iceberg-tables/maintenance#rewrite-manifests)

To enable data compaction spark job follow the next steps:

1. Navigate to the `Job Templates`, then click the `Deploy` button on the **Data Compaction Job** card.

<Img
  src="/img/spark-job/data-compaction/data-compaction-card.png"
  alt="IOMETE Spark Jobs"
/>

2. You will see the job creation page with all inputs filled.

<Img
  src="/img/spark-job/data-compaction/data-compaction-create-general.png"
  alt="Create data compaction job"
  maxWidth="550px"
/>

**Job Configurations**

<Img
  src="/img/spark-job/data-compaction/data-compaction-create-conf.png"
  alt="Data compaction job configurations"
  maxWidth="550px"
/>

**Instance**

<Img
  src="/img/spark-job/data-compaction/data-compaction-create-instance.png"
  alt="Data compaction job instance"
  maxWidth="550px"
/>

### Github

We've created initial job for data-compaction which will be enough in most cases. Feel free to fork and create new data compaction image based on your company requirements.
[View in Github](https://github.com/iomete/data-compaction-job)
